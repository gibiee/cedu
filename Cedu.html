<!DOCTYPE html>
<html>
  <head>
    <title>Cedu 초안</title>
    <script src="jquery-3.3.1.js"></script>
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script> -->
    <script src=".\LinedTextarea\jquery-linedtextarea.js"></script>
    <link href=".\LinedTextarea\jquery-linedtextarea.css" type="text/css" rel="stylesheet" />

    <script language="JavaScript" src="Cedu_SourceCode.js"></script>
    <script language="JavaScript" src="Cedu_Compiler.js"></script>
    <script language="JavaScript" src="Cedu_Execution.js"></script>
    <script>
      $(function () { $(".lined").linedtextarea({
          //selectedLine: 1
        });
      });
    </script>
    <script>
      $(document).ready(function() {
        var compile_user_code;
        var execution_user_code;

        $("#컴파일").click(function() {
          compile_user_code = $("#유저코드").val();
          compiler(compile_user_code);
        })

        $("#실행").click(function() {
          execution_user_code = $("#유저코드").val();
          if( execution_user_code === compile_user_code){
            execution(execution_user_code);
          }
          else {
            $("#결과").text("실행 전에 컴파일을 먼저 수행해주세요.").css('color','red');
          }
        })

        $("#디버그").click(function() {
        })

        $(document).delegate('#유저코드', 'keydown', function(e) {
          var keyCode = e.keyCode || e.which;
          if (keyCode == 9) {
            e.preventDefault();
            var start = this.selectionStart;
            var end = this.selectionEnd;
            var text = $(this).val();
            var selText = text.substring(start, end);
            $(this).val(
              text.substring(0, start) +
              "    " + selText.replace(/\n/g, "\n\t") +
              text.substring(end)
            );
            this.selectionStart = this.selectionEnd = start + 4;
          }
        });
      });
    </script>
  </head>

  <body>
    <button>자동 줄 정렬</button>
    <button id="컴파일" style="margin-left:150px">컴파일</button>
    <button id="실행">실행</button>
    <button id="디버그">디버그</button>
    <br/><br/>
    <table>
      <tr>
        <th rowspan="2">
          <div align="left">소스코드</div>
            <textarea name="유저코드" class="lined" id="유저코드" cols="80" rows="25">
함수 메인()
{
    변수 숫자;
    숫자 = 5;
    출력(숫자);
    줄바꿈();
    출력(숫자+1);
}
            </textarea>
          </div>
        </th>
        <th>
          <div align="left">입력값</div>
          <textarea disabled name="입력" id="입력" cols="50" rows="5"></textarea>
        </th>
      </tr>
      <tr>
        <th>
          <div align="left">결과값</div>
          <textarea disabled name="결과" id="결과" cols="50" rows="20"></textarea>
        </th>
      </tr>
    </table>
  </body>
</html>
